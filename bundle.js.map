{"version":3,"sources":["webpack:///webpack/bootstrap 11d73f1e89cd5f5bf65a","webpack:///./play.js","webpack:///./background.js","webpack:///./lib/game.js","webpack:///./lib/moving_object.js","webpack:///./lib/ship.js","webpack:///./lib/asteroid.js","webpack:///./lib/util.js","webpack:///./lib/game_loop.js","webpack:///./lib/ship_bullet.js","webpack:///./lib/explosion.js","webpack:///./lib/star.js","webpack:///./lib/pirate.js","webpack:///./lib/pirate_missile.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA,GAAG;;AAEH,CAAC;;;;;;;ACvCD;AACA;AACA;AACA;AACA;AACA,mCAAmC,IAAI,uBAAuB,QAAQ;AACtE;AACA;;AAEA;;;;;;;ACTA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;AAKA;;;;;;;ACrDA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/EA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT,wCAAwC,eAAe;AACvD;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChNA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;;ACzEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA,KAAK;AACL;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACpGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC1BA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACnDA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnCA;AACA;AACA;;AAEA;AACA;AACA,WAAW,iCAAiC;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 11d73f1e89cd5f5bf65a","//note - use Firebase for auth - just key/value pairs - save as bonus feature\nconst changeBackgroundImage = require('./background');\nconst Game = require('./lib/game');\nconst gameLoop = require('./lib/game_loop');\n\nwindow.addEventListener(\"load\", () => {\n  const canvas = document.getElementById('game-canvas');\n  canvas.width = 800;\n  canvas.height = 500;\n\n  const ctx = canvas.getContext('2d');\n  ctx.fillStyle = \"black\";\n  ctx.rect(0, 0, 800, 500);\n  ctx.fill();\n\n  let bgNum = 1;\n\n  setTimeout(setInterval( () => {\n    let nextNum = changeBackgroundImage(bgNum);\n    bgNum = nextNum;\n  }, 10000), 10000);\n\n  $(\"#audio-toggle\").click( () => {\n    let audio = $(\"audio\")[0];\n    if (audio.paused) {\n      audio.play();\n      $(\"#audio-logo\").attr(\"src\", \"./assets/speaker.png\");\n    } else {\n      audio.pause();\n      $(\"#audio-logo\").attr(\"src\", \"./assets/mute.png\");\n    }\n  });\n\n  let game = new Game(ctx, 20);\n\n  window.setInterval(() => {\n    gameLoop(ctx, game);\n  }, 25);\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./play.js\n// module id = 0\n// module chunks = 0","const changeBackgroundImage = (num) => {\n  let nextNum = num + 1;\n  if (nextNum > 7) {\n    nextNum = 1;\n  }\n  $(\"body\").removeClass(`bgimage-${num}`).addClass(`bgimage-${nextNum}`);\n  return nextNum;\n};\n\nmodule.exports = changeBackgroundImage;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./background.js\n// module id = 1\n// module chunks = 0","const Ship = require('./ship');\nconst Asteroid = require('./asteroid');\nconst Star = require('./star');\nconst objUtil = require('./util');\n\nmodule.exports = class Game {\n\n  constructor(ctx, numAsteroids) {\n    //save room for numPirates\n    this.addObject = this.addObject.bind(this);\n    this.origNumAsteroids = numAsteroids;\n    this.numAsteroids = numAsteroids;\n    this.currentAsteroids = 0;\n    this.ctx = ctx;\n    this.gameOver = false;\n    this.score = 0;\n    this.tick = 0;\n    this.objects = [\n      new Ship([40, 218], [0, 0], this.addObject),\n    ];\n    for (var i = 1; i <= numAsteroids; i++) {\n      this.objects.push( new Asteroid(objUtil.randomStartPos(), objUtil.randomStartVel()) );\n      this.currentAsteroids += 1;\n    }\n    this.stars = [];\n    for (var j = 0; j < 100; j++) {\n      this.stars.push(new Star());\n    }\n    key(\"r\", () => {\n      if (!this.objects.some( (obj) => obj instanceof Ship)) {\n        let ship = new Ship([40, 218], [0, 0], this.addObject);\n        this.objects.push(ship);\n        this.gameOver = false;\n        this.score = 0;\n        this.numAsteroids = this.origNumAsteroids;\n        $(\".score\").text(\"0\");\n        $(\".health\").text(\"5\");\n        $(\".game-over\").addClass(\"hidden\");\n      }\n    });\n  }\n\n  addObject(object) {\n    this.objects.push(object);\n  }\n\n  removeObject(object) {\n    this.objects.splice(this.objects.indexOf(object), 1);\n  }\n\n\n\n\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/game.js\n// module id = 2\n// module chunks = 0","const objUtil = require('./util');\nconst Explosion = require('./explosion');\n\nmodule.exports = class MovingObject {\n  constructor(options) {\n    this.initPos = options.pos;\n    this.initVel = options.vel;\n  }\n\n  move(ctx, graphic, state) {\n    state.pos[0] = state.pos[0] + state.vel[0];\n    state.pos[1] = state.pos[1] + state.vel[1];\n  }\n\n  draw(ctx, graphic, state) {\n    ctx.drawImage(\n      graphic,\n      state.sx,\n      state.sy,\n      state.sWidth,\n      state.sHeight,\n      state.pos[0],\n      state.pos[1],\n      state.dWidth,\n      state.dHeight\n    );\n  }\n\n  checkOutOfBounds(pos) {\n    if (pos[0] < -50) {\n      return true;\n    }\n    if (pos[0] > 800) {\n      return true;\n    }\n    if (pos[1] < -50) {\n      return true;\n    }\n    if (pos[1] > 550) {\n      return true;\n    }\n    return false;\n  }\n\n  boundaryWrap(pos) {\n    let returnPos = pos;\n    if (pos[0] < -50) {\n      returnPos[0] = pos[0] + 860;\n    }\n    if (pos[1] < -50) {\n      returnPos[1] = pos[1] +  560;\n    }\n    if (pos[1] > 550) {\n      returnPos[1] = pos[1] - 580;\n      returnPos[0] = pos[0] - 30;\n    }\n    return returnPos;\n  }\n\n  checkForCollision(otherObject) {\n    let thisObjectCenter = [this.state.pos[0] + this.state.dWidth / 2, this.state.pos[1] + this.state.dHeight / 2];\n    let otherObjectCenter = [otherObject.state.pos[0] + otherObject.state.dWidth / 2, otherObject.state.pos[1] + otherObject.state.dHeight / 2];\n    let centerDistances = objUtil.dist(thisObjectCenter, otherObjectCenter);\n    // debugger\n    return (centerDistances < (this.state.radius + otherObject.state.radius));\n  }\n\n  handleBullet(otherObject) {\n    if (this.checkForCollision(otherObject)) {\n      if (otherObject.state.isDestructable) {\n        otherObject.state.health -= 1;\n        this.state.health -= 1;\n        this.addObject( new Explosion(this.state.pos, otherObject.state.health));\n      }\n      return true;\n    }\n    return false;\n  }\n\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/moving_object.js\n// module id = 3\n// module chunks = 0","const MovingObject = require('./moving_object');\nconst ShipBullet = require('./ship_bullet');\nconst Explosion = require('./explosion');\nconst objUtil = require('./util');\n\nconst SHIP_DIRECTIONS = {\n  \"up\": [0, -5],\n  \"down\": [0, 5],\n  \"left\": [-5, 0],\n  \"right\": [5, 0],\n  \"w\": [0, -5],\n  \"s\": [0, 5],\n  \"a\": [-5, 0],\n  \"d\": [5, 0],\n};\n\nconst SHIP_SPRITES = {\n  \"0,0\": {\n    sx: 220,\n    sy: 32,\n    sWidth: 40,\n    sHeight: 46,\n    dWidth: 40,\n    dHeight: 46,\n    radius: 23,\n  },\n  \"0,-5\": {\n    sx: 220,\n    sy: 0,\n    sWidth: 40,\n    sHeight: 38,\n    dWidth: 40,\n    dHeight: 38,\n    radius: 20,\n  },\n  \"5,-5\": {\n    sx: 260,\n    sy: 0,\n    sWidth: 46,\n    sHeight: 38,\n    dWidth: 46,\n    dHeight: 38,\n    radius: 23,\n  },\n  \"-5,-5\": {\n    sx: 310,\n    sy: 0,\n    sWidth: 40,\n    sHeight: 38,\n    dWidth: 40,\n    dHeight: 38,\n    radius: 20,\n  },\n  \"0,5\": {\n    sx: 220,\n    sy: 78,\n    sWidth: 40,\n    sHeight: 38,\n    dWidth: 40,\n    dHeight: 38,\n    radius: 20,\n  },\n  \"-5,5\": {\n    sx: 310,\n    sy: 78,\n    sWidth: 40,\n    sHeight: 38,\n    dWidth: 40,\n    dHeight: 38,\n    radius: 20,\n  },\n  \"5,5\": {\n    sx: 260,\n    sy: 78,\n    sWidth: 46,\n    sHeight: 38,\n    dWidth: 46,\n    dHeight: 38,\n    radius: 23,\n  },\n  \"-5,0\": {\n    sx: 310,\n    sy: 32,\n    sWidth: 40,\n    sHeight: 46,\n    dWidth: 40,\n    dHeight: 46,\n    radius: 23,\n  },\n  \"5,0\": {\n    sx: 260,\n    sy: 32,\n    sWidth: 50,\n    sHeight: 46,\n    dWidth: 50,\n    dHeight: 46,\n    radius: 25,\n  },\n};\n\nmodule.exports = class Ship extends MovingObject {\n\n  constructor(pos, vel, addObject, removeObject) {\n    super({\n      pos: pos,\n      vel: vel,\n      graphic: $(\"#sprites1\")[0],\n    });\n    this.addObject = addObject;\n    this.shipGraphic = $(\"#sprites1\")[0];\n    this.state = {\n      sx: 220,\n      sy: 32,\n      sWidth: 40,\n      sHeight: 46,\n      pos: pos,\n      vel: vel,\n      dWidth: 40,\n      dHeight: 46,\n      radius: 23,\n      isDestructable: true,\n      health: 5,\n      firing: false,\n    };\n    this.bindKeyHandlers();\n    this.fireLaser();\n  }\n\n  bindKeyHandlers() {\n    Object.keys(SHIP_DIRECTIONS).forEach( (dir) => {\n      $(document).unbind(dir);\n      let move = SHIP_DIRECTIONS[dir];\n      key(dir, (e) => {\n        e.preventDefault();\n        this.state.vel[0] += move[0];\n        this.state.vel[1] += move[1];\n        this.state.vel = this.state.vel.map( (vel) => {\n          if (vel < -5) {\n            return -5;\n          } else if (vel > 5) {\n            return 5;\n          } else {\n            return vel;\n          }\n        });\n        let newSprite = SHIP_SPRITES[`${this.state.vel}`];\n        Object.keys(newSprite).forEach( (spriteVal) => {\n          this.state[spriteVal] = newSprite[spriteVal];\n        });\n      });\n    });\n\n    $(document).keydown( (e) => {\n      if (e.originalEvent.code === \"Space\") {\n        e.preventDefault();\n        this.state.firing = true;\n      }\n    });\n\n    $(document).keyup( (e) => {\n      if (e.originalEvent.code === \"Space\") {\n        e.preventDefault();\n        this.state.firing = false;\n      }\n    });\n\n  }\n\n  fireLaser() {\n    setInterval( () => {\n      if (this.state.health > 0 && this.state.firing) {\n        let bulletPos = [this.state.pos[0] + 28, this.state.pos[1] + 24];\n        let bullet = new ShipBullet(bulletPos, this.addObject);\n        this.addObject(bullet);\n      }\n    }, 150);\n  }\n\n  checkOutOfBounds(state) {\n    if ((state.pos[0] <= 10) || (state.pos[0] >= 750)) {\n      if (state.pos[0] <= 10) {\n        state.pos[0] = 10;\n        state.vel[0] = 0;\n      } else {\n        state.pos[0] = 750;\n        state.vel[0] = 0;\n      }\n    }\n    if ((state.pos[1] <= 10) || (state.pos[1] >= 440)) {\n      if (state.pos[1] <= 10) {\n        state.pos[1] = 10;\n        state.vel[1] = 0;\n      } else {\n        state.pos[1] = 440;\n        state.vel[1] = 0;\n      }\n    }\n    return state;\n  }\n\n  shipWasHit(otherObject) {\n    let pos = [this.state.pos[0] + objUtil.randSmall() + 15, this.state.pos[1] + objUtil.randSmall() + 15];\n    this.addObject(new Explosion(pos, this.state.health, 2));\n    this.state.health -= 1;\n    otherObject.state.health = 0;\n    $(\".health\").text(this.state.health);\n  }\n\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/ship.js\n// module id = 4\n// module chunks = 0","const MovingObject  = require('./moving_object');\n\nconst ASTEROID_DEFAULTS = {\n  sx: [0, 46, 0, 46, 7, 53, 10, 67],\n  sy: [0, 0, 0, 0, 62, 62, 92, 104],\n  sWidth: [46, 60, 46, 60, 26, 33, 23, 13],\n  sHeight: [53, 56, 53, 56, 18, 31, 23, 13],\n  dWidth: [46, 60, 46, 60, 26, 33, 23, 13],\n  dHeight: [53, 56, 53, 56, 18, 31, 23, 13],\n  health: [3, 3, 3, 3, 2, 2, 1, 1],\n};\n\nmodule.exports = class Asteroid extends MovingObject {\n\n  constructor(pos, vel) {\n    super({\n      pos: pos,\n      vel: vel,\n    });\n    this.pos = pos;\n    this.vel = vel;\n    this.graphic = $(\"#sprites1\")[0];\n    let randAsteroidNum = Math.round(Math.random() * 7);\n    this.state = {\n      sx: ASTEROID_DEFAULTS.sx[randAsteroidNum],\n      sy: ASTEROID_DEFAULTS.sy[randAsteroidNum],\n      sWidth: ASTEROID_DEFAULTS.sWidth[randAsteroidNum],\n      sHeight: ASTEROID_DEFAULTS.sHeight[randAsteroidNum],\n      pos: this.pos,\n      vel: this.vel,\n      dWidth: ASTEROID_DEFAULTS.dWidth[randAsteroidNum],\n      dHeight: ASTEROID_DEFAULTS.dHeight[randAsteroidNum],\n      rotation: (Math.random() * [-1, 1][Math.round(Math.random())]),\n      rotateDir: (0.01 * [-1, 1][Math.round(Math.random())]),\n      isDestructable: true,\n      health: ASTEROID_DEFAULTS.health[randAsteroidNum],\n      scoreValue: 10 * ASTEROID_DEFAULTS.health[randAsteroidNum],\n    };\n    if (this.state.dWidth > this.state.dHeight) {\n      this.state.radius = this.state.dWidth / 2;\n    } else {\n      this.state.radius = this.state.dHeight / 2;\n    }\n  }\n\n  move(ctx) {\n    this.state.pos[0] = this.state.pos[0] + this.state.vel[0];\n    this.state.pos[1] = this.state.pos[1] + this.state.vel[1];\n    this.drawAndRotate(ctx, this.graphic, this.state);\n    this.state.pos = this.boundaryWrap(this.state.pos);\n  }\n\n  drawAndRotate(ctx) {\n    ctx.save();\n    ctx.translate(this.state.pos[0], this.state.pos[1]);\n    ctx.translate(this.state.dWidth / 2, this.state.dHeight / 2);\n    ctx.rotate(this.state.rotation);\n    this.state.rotation += this.state.rotateDir;\n    ctx.drawImage(\n      this.graphic,\n      this.state.sx,\n      this.state.sy,\n      this.state.sWidth,\n      this.state.sHeight,\n      -this.state.dWidth / 2,\n      -this.state.dHeight / 2,\n      this.state.dWidth,\n      this.state.dHeight\n    );\n    ctx.restore();\n  }\n\n\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/asteroid.js\n// module id = 5\n// module chunks = 0","const objUtil = {\n\n    randomStartPos: () => {\n      // returns startPos off right, w/in canvas bounds\n      return [810, (Math.random() * (460) + 20)];\n    },\n\n    randomStartVel: () => {\n      // returns randomVel, headed leftish\n      return [-(Math.random() * 5), (Math.random() * [-1, 1][Math.round(Math.random())]) ];\n    },\n\n    dist: (pos1, pos2) => {\n      return Math.sqrt( Math.pow(pos1[0] - pos2[0], 2) + Math.pow(pos1[1] - pos2[1], 2));\n    },\n\n    randSmall: () => {\n      return (Math.round(Math.random() * 3) * ([-1, 1][Math.round(Math.random())]));\n    }\n};\n\nmodule.exports = objUtil;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/util.js\n// module id = 6\n// module chunks = 0","const Ship = require('./ship');\nconst Asteroid = require('./asteroid');\nconst Pirate = require('./pirate');\nconst ShipBullet = require('./ship_bullet');\nconst PirateMissile = require('./pirate_missile');\nconst Explosion = require('./explosion');\nconst objUtil = require('./util');\n\nconst gameLoop = (ctx, game) => {\n\n  ctx.clearRect(0, 0, 800, 500);\n  ctx.fillStyle = \"black\";\n  ctx.fillRect(0, 0, 800, 500);\n\n  game.stars.forEach( (star) => {\n    star.state.pos = star.boundaryWrap(star.state.pos);\n    star.move(ctx, null, star.state);\n    star.draw(ctx);\n  });\n\n  game.objects.forEach( (obj) => {\n    if (obj instanceof Asteroid) {\n      obj.move(ctx);\n\n    } else if (obj instanceof Pirate) {\n      obj.move(ctx, obj.graphic, obj.state);\n\n    } else if (obj instanceof Ship) {\n      obj.move(ctx, obj.shipGraphic, obj.state);\n      obj.state = obj.checkOutOfBounds(obj.state);\n      obj.draw(ctx, obj.shipGraphic, obj.state);\n      game.objects.forEach( (checkObj) => {\n        if ((checkObj instanceof Asteroid) || (checkObj instanceof PirateMissile)) {\n          if (obj.checkForCollision(checkObj)) {\n            obj.shipWasHit(checkObj);\n            checkObj.state.scoreValue = 0;\n            if (obj.state.health === 0) {\n              game.gameOver = true;\n            }\n          }\n        }\n      });\n\n    } else if ((obj instanceof ShipBullet) || (obj instanceof PirateMissile)) {\n      obj.move(ctx, obj.graphic, obj.state);\n      if (obj.checkOutOfBounds(obj.state.pos)) {\n        game.removeObject(obj);\n      } else {\n        if (obj instanceof ShipBullet) {\n          game.objects.forEach( (otherObject) => {\n            if ((otherObject instanceof Asteroid) || (otherObject instanceof Pirate)) {\n              obj.handleBullet(otherObject);\n            }\n            obj.draw(ctx, obj.graphic, obj.state);\n          });\n        } else {\n          obj.draw(ctx, obj.graphic, obj.state);\n        }\n      }\n    } else if (obj instanceof Explosion) {\n      obj.draw(ctx);\n\n    }\n\n    if (obj.state.isDestructable && (obj.state.health < 1)) {\n      game.removeObject(obj);\n      if (obj instanceof Asteroid) {\n        game.score += obj.state.scoreValue;\n        game.currentAsteroids -= 1;\n        game.numAsteroids += 0.1;\n        $('.score').text(game.score);\n      }\n    }\n\n  });\n\n  gameTick(ctx, game);\n\n};\n\nconst gameTick = (ctx, game) => {\n  //reserve this for events that happen over more than one frame\n  if (game.gameOver) {\n    $(\".game-over\").removeClass(\"hidden\");\n  } else {\n    if (game.currentAsteroids < game.numAsteroids) {\n      game.objects.push(new Asteroid(objUtil.randomStartPos(), objUtil.randomStartVel()));\n      game.currentAsteroids += 1;\n    }\n    game.tick += 1;\n    if (game.tick % 10 === 0) {\n      game.score += 1;\n      $('.score').text(game.score);\n    }\n    if (game.tick % 200 === 0) {\n      game.objects.push(new Pirate(objUtil.randomStartPos(), objUtil.randomStartVel(), game.addObject));\n    }\n  }\n};\n\nmodule.exports = gameLoop;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/game_loop.js\n// module id = 7\n// module chunks = 0","const MovingObject = require('./moving_object');\nconst Explosion = require('./explosion');\n\nmodule.exports = class ShipBullet extends MovingObject {\n  constructor(pos, addObject) {\n    super({\n      pos: pos,\n      vel: [12, 0],\n    });\n    this.addObject = addObject;\n    this.graphic = $(\"#sprites1\")[0];\n    this.state = {\n      sx: 200,\n      sy: 8,\n      sWidth: 14,\n      sHeight: 4,\n      pos: pos,\n      vel: [12, 0],\n      dWidth: 14,\n      dHeight: 4,\n      radius: 2,\n      health: 1,\n      isDestructable: true,\n    };\n  }\n\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/ship_bullet.js\n// module id = 9\n// module chunks = 0","const EXPLOSION_TYPES = {\n  0: {\n    outline: '#ff5000',\n    blur: 'orange',\n  },\n\n  1: {\n    outline: 'red',\n    blur: 'yellow',\n  },\n\n  2: {\n    outline: 'green',\n    blur: '#0af4fc',\n  }\n\n};\n\nmodule.exports = class Explosion {\n  constructor(pos, health, type) {\n    this.state = {\n      pos: pos,\n      isDestructable: true,\n      explosionSize: 3 - health,\n      explosionType: (type || Math.round(Math.random() * 1)),\n      globalAlpha: 0.9,\n    };\n    this.state.health = 30 - (this.state.explosionSize * 10);\n  }\n\n  draw(ctx) {\n    ctx.beginPath();\n    ctx.arc(this.state.pos[0],\n      this.state.pos[1],\n      Math.abs((this.state.explosionSize)),\n      0,\n      2 * Math.PI,\n      false\n    );\n    ctx.lineWidth = 3;\n    ctx.strokeStyle = EXPLOSION_TYPES[this.state.explosionType].outline;\n    ctx.shadowColor = EXPLOSION_TYPES[this.state.explosionType].blur;\n    ctx.shadowBlur = 20;\n    ctx.globalAlpha = this.state.globalAlpha;\n    ctx.stroke();\n    ctx.shadowBlur = 0;\n    ctx.globalAlpha = 1;\n    this.state.explosionSize -= 1;\n    this.state.globalAlpha -= 0.02;\n    this.state.health -= 1;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/explosion.js\n// module id = 10\n// module chunks = 0","const objUtil = require('./util');\nconst MovingObject = require('./moving_object');\n\nconst STAR_COLORS = [\"red\", \"yellow\", \"orange\", \"green\", \"blue\", \"white\"];\n\nmodule.exports = class Star extends MovingObject {\n\n  constructor() {\n    let pos = [Math.floor(Math.random() * 800), Math.floor(Math.random() * 500)];\n    let vel = [-Math.random(), 0];\n    super(pos, vel);\n    this.state = {\n      color: STAR_COLORS[Math.round(Math.random() * 6)],\n      pos: pos,\n      vel: vel,\n      size: Math.random(),\n    };\n  }\n\n  draw(ctx) {\n    ctx.beginPath();\n    ctx.arc(this.state.pos[0],\n      this.state.pos[1],\n      this.state.size,\n      0,\n      2 * Math.PI,\n      false\n    );\n    ctx.fillStyle = this.state.color;\n    ctx.fill();\n    ctx.lineWidth = 1;\n    ctx.strokeStyle = this.state.color;\n    ctx.stroke();\n  }\n\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/star.js\n// module id = 11\n// module chunks = 0","const MovingObject = require('./moving_object');\nconst PirateMissile = require('./pirate_missile');\nconst objUtil = require('./util');\n\nmodule.exports = class Pirate extends MovingObject {\n  constructor(pos, vel, addObject) {\n    super({ pos: pos, vel: [vel[1], vel[0]]});\n    this.graphic = $(\"#sprites2\")[0];\n    this.addObject = addObject;\n    this.state = {\n        sx: 0,\n        sy: 0,\n        sWidth: 64,\n        sHeight: 64,\n        pos: pos,\n        vel: vel,\n        dWidth: 64,\n        dHeight: 64,\n        radius: 30,\n        isDestructable: true,\n        health: 5,\n        timeToMissile: 40,\n        scoreValue: 100,\n    };\n    this.state.cooldown = this.state.timeToMissle;\n  }\n\n  move(ctx) {\n    this.state.pos[0] = this.state.pos[0] + this.state.vel[0];\n    this.state.pos[1] = this.state.pos[1] + this.state.vel[1];\n    this.draw(ctx, this.graphic, this.state);\n    this.state.timeToMissile -= 1;\n    if (this.state.timeToMissile === 0) {\n      this.fireMissile([this.state.pos[0] + this.state.dWidth / 2, this.state.pos[1] + this.state.dHeight / 2]);\n    }\n    this.state.pos = this.boundaryWrap(this.state.pos);\n  }\n\n  fireMissile(pos) {\n    let missile = new PirateMissile(pos);\n    this.state.timeToMissile = 20;\n    this.addObject(missile);\n  }\n\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/pirate.js\n// module id = 12\n// module chunks = 0","const MovingObject = require('./moving_object');\nconst Explosion = require('./explosion');\n\nmodule.exports = class PirateMissile extends MovingObject {\n  constructor(pos) {\n    super({\n      pos: pos,\n      vel: [-2, 0],\n    });\n    this.graphic = $(\"#sprites3\")[0];\n    this.state = {\n      sx: 0,\n      sy: 0,\n      sWidth: 14,\n      sHeight: 4,\n      pos: pos,\n      vel: [-2, 0],\n      dWidth: 14,\n      dHeight: 4,\n      radius: 3,\n      health: 1,\n      isDestructable: true,\n    };\n  }\n\n  move(ctx, graphic, state) {\n    state.vel = [state.vel[0] + (state.vel[0]/100), 0];\n    state.pos[0] = state.pos[0] + state.vel[0];\n    state.pos[1] = state.pos[1] + state.vel[1];\n  }\n\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/pirate_missile.js\n// module id = 13\n// module chunks = 0"],"sourceRoot":""}